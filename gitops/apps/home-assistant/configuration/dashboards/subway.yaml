views:
  - title: Overview (Friendly Name Regex)
    icon: mdi:train
    cards:
      - type: vertical-stack
        cards:
          - type: custom:auto-entities
            card:
              type: entities
              title: Atlantic Av-Barclays Ctr
              show_header_toggle: false
            filter:
              include:
                - domain: sensor
                  attributes:
                    friendly_name: "/Atlantic Av|Barclays/"
                  options:
                    secondary_info: last-updated
              exclude:
                - state: "unavailable"
                - state: "unknown"
            sort:
              method: attribute
              attribute: route_id

          - type: custom:auto-entities
            card:
              type: entities
              title: Bergen St
              show_header_toggle: false
            filter:
              include:
                - domain: sensor
                  attributes:
                    friendly_name: "/Bergen St/"
                  options:
                    secondary_info: last-updated
              exclude:
                - state: "unavailable"
                - state: "unknown"
            sort:
              method: attribute
              attribute: route_id

          - type: custom:auto-entities
            card:
              type: entities
              title: Fulton St
              show_header_toggle: false
            filter:
              include:
                - domain: sensor
                  attributes:
                    friendly_name: "/Fulton St/"
                  options:
                    secondary_info: last-updated
              exclude:
                - state: "unavailable"
                - state: "unknown"
            sort:
              method: attribute
              attribute: route_id

          - type: custom:auto-entities
            card:
              type: entities
              title: Lafayette Av
              show_header_toggle: false
            filter:
              include:
                - domain: sensor
                  attributes:
                    friendly_name: "/Lafayette Av/"
                  options:
                    secondary_info: last-updated
              exclude:
                - state: "unavailable"
                - state: "unknown"
            sort:
              method: attribute
              attribute: route_id

          - type: custom:auto-entities
            card:
              type: entities
              title: 57 St-7 Av
              show_header_toggle: false
            filter:
              include:
                - domain: sensor
                  attributes:
                    friendly_name: "/57 St/"
                  options:
                    secondary_info: last-updated
              exclude:
                - state: "unavailable"
                - state: "unknown"
            sort:
              method: attribute
              attribute: route_id

  - title: Morning Commute (Wildcard Entity)
    icon: mdi:weather-sunset-up
    cards:
      - type: custom:auto-entities
        card:
          type: entities
          title: N/Q/D Trains (Anywhere)
          show_header_toggle: false
        filter:
          include:
            - domain: sensor
              entity_id: "sensor.*"
              attributes:
                route_id: ["N", "Q", "D"]
              options:
                secondary_info: "[[ attribute.headsign ]]"
          exclude:
            - state: "unavailable"
            - state: "unknown"
        sort:
          method: state
          numeric: true

  - title: Debug (Show All GTFS)
    icon: mdi:bug
    cards:
      - type: markdown
        content: "## All Active GTFS Sensors\nIf this list is empty, the integration is not sending data."
      - type: custom:auto-entities
        card:
          type: entities
          title: All GTFS Realtime Sensors
          show_header_toggle: false
        filter:
          template: |
            [
              {% for state in states.sensor -%}
                {%- if state.attributes.route_id is defined -%}
                  {
                    "entity": "{{ state.entity_id }}",
                    "secondary_info": "Route: {{ state.attributes.route_id }} | {{ state.attributes.friendly_name }}"
                  },
                {%- endif -%}
              {%- endfor %}
            ]
        sort:
          method: state
          numeric: true

  - title: Dynamic (Hardcoded)
    icon: mdi:map-marker-radius
    cards:
      - type: entities
        title: Known Sensors (Hardcoded)
        entities:
          - entity: sensor.1_atlantic_av_barclays_ctr
          - entity: sensor.1_atlantic_av_barclays_ctr_2
          - entity: sensor.1_atlantic_av_barclays_ctr_3
          - entity: sensor.1_atlantic_av_barclays_ctr_4
          - entity: sensor.4_57_st_7_av
          - entity: sensor.4_57_st_7_av_2
          - entity: sensor.4_57_st_7_av_3
          - entity: sensor.4_57_st_7_av_4
          - entity: sensor.4_bergen_st
          - entity: sensor.4_bergen_st_2
          - entity: sensor.4_fulton_st
          - entity: sensor.4_fulton_st_2
          - entity: sensor.4_lafayette_av
          - entity: sensor.4_lafayette_av_2
