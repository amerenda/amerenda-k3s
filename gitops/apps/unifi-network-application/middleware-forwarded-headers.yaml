---
# Traefik Middleware to set forwarded headers for UniFi Controller
# This ensures UniFi knows the original request was HTTPS, preventing redirect loops
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: unifi-forwarded-headers
  namespace: unifi-network-application
spec:
  headers:
    customRequestHeaders:
      X-Forwarded-Proto: "https"
      X-Forwarded-Ssl: "on"

